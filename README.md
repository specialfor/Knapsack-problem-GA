# Knapsack-problem-GA
Програма розв'язує задачу про ранець за допомогою генетинчого алгоритму.
![Knapsack image](https://upload.wikimedia.org/wikipedia/commons/thumb/f/fd/Knapsack.svg/486px-Knapsack.svg.png)

### Примітка: 
* з описом задачі можете ознайомитися [тут;](https://uk.wikipedia.org/wiki/%D0%97%D0%B0%D0%B4%D0%B0%D1%87%D0%B0_%D0%BF%D0%B0%D0%BA%D1%83%D0%B2%D0%B0%D0%BD%D0%BD%D1%8F_%D1%80%D1%8E%D0%BA%D0%B7%D0%B0%D0%BA%D0%B0)
* з описом ГА для цієї задачі [тут (ru).](https://ru.wikipedia.org/wiki/%D0%97%D0%B0%D0%B4%D0%B0%D1%87%D0%B0_%D0%BE_%D1%80%D0%B0%D0%BD%D1%86%D0%B5#Генетические_алгоритмы)

## Опис
Хромосома представляє собою бінарний рядок (список 0 і 1):
0 - річ не треба покласти в ранець, 1 - треба.

### Приклад: 
Нехай є 5 речей і хромосома має вигляд [0, 1, 1, 0, 1].
Це означає, що ми повинні **покласти** в ранець речі під номерами 2, 3, 5 і **не покласти** речі під номерами 1, 4.

У реалізації використовується турнірна селекція,
схрещування в одній точці, мутація (під час мутації хромосома змінює кожен свій ген на ген з протилежним значенням;
*ймовірність мутації гена - **0.5%***)

Ознайомитися з формулою, яка використовується для обчислення здоров'я хромосоми можете в файлі [**Knapsack.py**.](https://github.com/specialfor/Knapsack-problem-GA/blob/master/Knapsack.py#L82)

Також об'єкт класу **Knapsack** збирає статистику про популяцію під час знаходження розв'зку. 
Статистика - список, що містить середнє арифметичне значення здоров'я кожної популяції.
Цю статистику можна використати для побудови графіку еволюції.

### Приклади вхідних данних, роз'язків та графіків:
**Позначення:** W - максимальна вага, N - кількість речей, Wi - вага і-ої речі, Pi - ціна і-ої речі, idx - список номерів речей,
tw - вага речей, tp - ціна речей.


1. **Вхідні данні**: W - 13, N - 5

   W1 = 3, P1 = 1

   W2 = 4, P2 = 6

   W3 = 5, P3 = 4

   W4 = 8, P4 = 7

   W5 = 9, P5 = 6

   **Вихідні данні:** idx = [2, 4], tw = 12, tp = 13.
   
   ![first plot](https://i.imgur.com/Vmvnjai.png)

2. **Вхідні данні**: W - 15, N - 5

   W1 = 6, P1 = 5

   W2 = 4, P2 = 3

   W3 = 3, P3 = 1

   W4 = 2, P4 = 3

   W5 = 5, P5 = 6

   **Вихідні данні:** idx = [1, 2, 5], tw = 15, tp = 14 або idx = [1, 4, 5], tw = 13, tp = 14.
  
   ![seconf plot](https://i.imgur.com/th28dft.png)

## Структура проекту
* **Knapsack.py** - містить реалізацію генетичного алгоритму для *задачі про ранець*.
* **Chromosome.py** - містить клас, що моделює хромосому, котра вміє *схрещуватися і мутувати*.
* **Item.py** - містить клас, що моделює річ, котру можна покласти в ранець (*кожна річ має вагу і ціну*).
* **SolutionInfo.py** - містить клас, що зберігає інформацію про розв'язок: *список обраних речей та їх індексів*.
* **main.py** - містить клієнтський код.
